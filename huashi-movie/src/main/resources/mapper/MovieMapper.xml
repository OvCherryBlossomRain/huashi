<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.edu.scnu.movie.mapper.MovieMapper">
	<select id="searchMovie" resultType="Movie">
		select * from movie where instr(movie_name,#{movieName})>0 limit #{start},#{length};
	</select>
	
	<select id="getMovieNum" parameterType="String" resultType="Integer">
		select count(*) from movie where instr(movie_name,#{movieName})>0;
	</select>
	
	<select id="getTotal"  resultType="Integer">
		select count(*) from movie ;
	</select>
	
	<select id="getAllMovie" resultType="Movie">
		select * from movie limit #{start},#{length};
	</select>
	
	<select id="getCategory" resultType="String">
		select category from movie; 
	</select>
	
	<select id="searchByCategory" resultType="Movie">
		select * from movie where instr(category,#{movieCate})>0 limit #{start},#{length};
	</select>
	
	<select id="getPageByCategory" parameterType="String" resultType="Integer">
		select count(*) from movie where instr(category,#{movieCate})>0;
	</select>
	
	<select id="showMovieDetail" parameterType="Integer" resultType="Movie">
		select * from movie where movie_id=#{movieId};
	</select>
	
	<select id="getHotMovie"  resultType="Movie">
		select * from movie order by viewers_num desc limit 6;
	</select>
	
	<select id="getActorId" parameterType="String" resultType="Integer">
		select actor_id from actors where actor_name=#{actorName};
	</select>
	
</mapper>